{"file":"C:\\Github\\Algoo\\backend\\src\\controllers\\AuthCtrl.ts","mappings":";;;;;;;;;;;;;;;AAAA,wDAAiE;AACjE,4EAAyE;AACzE,8DAAyD;AACzD,6DAA+F;AAC/F,mCAAiC;AACjC,wDAAqD;AACrD,iEAA8D;AAIvD,IAAM,QAAQ,GAAd,MAAM,QAAQ;IACA;IAAnB,YAAmB,OAAoB;QAApB,YAAO,GAAP,OAAO,CAAa;IAAG,CAAC;IAIrC,AAAN,KAAK,CAAC,KAAK,CAAS,IAAiB;QACnC,OAAO,EAAE,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IACjD,CAAC;IAKK,AAAN,KAAK,CAAC,UAAU,CAAgB,IAAU;QACxC,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAA;AAfY,4BAAQ;AAKb;IAFL,IAAA,0BAAI,GAAE;IACN,IAAA,qCAAiB,EAAC,YAAM,CAAC;IACb,WAAA,IAAA,0BAAI,GAAE,CAAA;;qCAAO,yBAAW;;qCAEpC;AAKK;IAHL,IAAA,yBAAG,EAAC,UAAU,CAAC;IACf,IAAA,gCAAU,GAAE;IACZ,IAAA,qCAAiB,EAAC,aAAO,CAAC;IACT,WAAA,IAAA,iCAAW,GAAE,CAAA;;qCAAO,aAAI;;0CAEzC;mBAdU,QAAQ;IAFpB,IAAA,gBAAO,GAAE;IACT,IAAA,oCAAc,EAAC,OAAO,CAAC;qCAEM,yBAAW;GAD5B,QAAQ,CAepB","names":[],"sources":["C:\\Github\\Algoo\\backend\\src\\controllers\\AuthCtrl.ts"],"sourcesContent":["import { JwtDTO, UserDTO } from '@defferrard/algoo-core/src/dto';\nimport { UsernameDTO } from '@defferrard/algoo-core/src/dto/UsernameDTO';\nimport { User } from '@defferrard/algoo-core/src/socket';\nimport { Authorized, Body, CurrentUser, Get, JsonController, Post } from 'routing-controllers';\nimport { Service } from 'typedi';\nimport { AuthService } from '~/services/AuthService';\nimport { SerializeResponse } from '~/utils/SerializeResponse';\n\n@Service()\n@JsonController('/auth')\nexport class AuthCtrl {\n  constructor(public service: AuthService) {}\n\n  @Post()\n  @SerializeResponse(JwtDTO)\n  async login(@Body() user: UsernameDTO) {\n    return { jwt: this.service.signIn(user.name) };\n  }\n\n  @Get('/current')\n  @Authorized()\n  @SerializeResponse(UserDTO)\n  async getSession(@CurrentUser() user: User) {\n    return user;\n  }\n}\n"],"version":3}