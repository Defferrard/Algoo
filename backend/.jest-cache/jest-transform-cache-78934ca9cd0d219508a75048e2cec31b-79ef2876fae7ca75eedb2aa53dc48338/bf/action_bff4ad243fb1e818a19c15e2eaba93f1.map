{"file":"C:\\Github\\Algoo\\core\\src\\strategy\\action.ts","mappings":";;;AAkBA,IAAY,cAEX;AAFD,WAAY,cAAc;IACxB,sDAAoC,CAAA;AACtC,CAAC,EAFW,cAAc,8BAAd,cAAc,QAEzB;AAEY,QAAA,iBAAiB,GAAmD;IAC/E,CAAC,cAAc,CAAC,gBAAgB,CAAC,EAAE,CAAC,KAAY,EAAE,EAAqB,EAAE,OAAe,EAAE,IAAgB,EAAE,EAAE;QAC5G,MAAM,aAAa,GAAiB,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;QACnD,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,EAAE,cAAc,CAAC,IAAI,CAAC,IAAqB,EAAE,CAAC,KAAa,EAAE,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,KAAM,CAAC,CAAC;YAChH,IAAI,KAAK,KAAK,SAAS;gBAAE,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAK,EAAE,KAAK,EAAE,KAAM,EAAE,CAAC,CAAC;QAC/G,CAAC;QAED,OAAO,aAAa,CAAC;IACvB,CAAC;CACF,CAAC","names":[],"sources":["C:\\Github\\Algoo\\core\\src\\strategy\\action.ts"],"sourcesContent":["import { Entity, SimpleCoordinate, Tile } from '../board';\nimport { ResourceType, Resources, Spell } from '../game';\n\ntype ActionArgs = { [key in string]: any };\nexport type ActionResume = {\n  update?: {\n    coordinate: SimpleCoordinate;\n    type: ResourceType;\n    value: number;\n  }[];\n};\nexport type ActionStrategyCallable = (\n  spell: Spell,\n  by: Entity<Resources>,\n  to: Tile[],\n  args: ActionArgs,\n) => ActionResume;\n\nexport enum ActionStrategy {\n  UPDATE_RESSOURCE = 'updateRessource',\n}\n\nexport const ACTION_STRATEGIES: Record<ActionStrategy, ActionStrategyCallable> = {\n  [ActionStrategy.UPDATE_RESSOURCE]: (spell: Spell, by: Entity<Resources>, targets: Tile[], args: ActionArgs) => {\n    const ACTION_RESUME: ActionResume = { update: [] };\n    for (let target of targets) {\n      const VALUE = target.entity?.updateResource(args.type! as ResourceType, (value: number) => value + args.value!);\n      if (VALUE !== undefined) ACTION_RESUME.update?.push({ coordinate: target, type: args.type!, value: VALUE! });\n    }\n\n    return ACTION_RESUME;\n  },\n};\n"],"version":3}