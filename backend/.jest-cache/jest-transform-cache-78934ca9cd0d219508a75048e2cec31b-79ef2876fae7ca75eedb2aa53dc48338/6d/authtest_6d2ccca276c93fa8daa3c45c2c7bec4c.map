{"file":"C:\\Github\\Algoo\\backend\\src\\controllers\\auth.test.ts","mappings":";;;;;AAAA,wDAAwD;AACxD,6EAAmE;AACnE,8DAAiC;AACjC,6DAAmD;AACnD,0DAAgC;AAChC,mCAAmC;AACnC,+BAA4B;AAE5B,MAAM,QAAQ,GAAW,cAAc,CAAC;AACxC,QAAQ,CAAC,aAAa,QAAQ,EAAE,EAAE,GAAG,EAAE;IACrC,SAAS,CAAC,GAAG,EAAE;QACb,IAAA,kCAAY,EAAC,kBAAS,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;IACH,SAAS,CAAC,GAAG,EAAE;QACb,kBAAS,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAC9B,MAAM,IAAA,mBAAO,EAAC,SAAG,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,UAAU,CAAC,CAAC,MAAM,CAAC,qBAAM,CAAC,YAAY,CAAC,CAAC;QAE1E,MAAM,QAAQ,GAAG,MAAM,IAAA,mBAAO,EAAC,SAAG,CAAC,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC;YAC5D,IAAI,EAAE,MAAM;SACb,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,qBAAM,CAAC,EAAE,CAAC,CAAC;QACxC,MAAM,IAAA,kDAAoB,EAAC,YAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Github\\Algoo\\backend\\src\\controllers\\auth.test.ts"],"sourcesContent":["import { JwtDTO } from '@defferrard/algoo-core/src/dto';\nimport { transformAndValidate } from 'class-transformer-validator';\nimport Status from 'http-status';\nimport { useContainer } from 'routing-controllers';\nimport request from 'supertest';\nimport { Container } from 'typedi';\nimport { app } from '~/app';\n\nconst BASE_URL: string = '/api/v1/auth';\ndescribe(`Base Test ${BASE_URL}`, () => {\n  beforeAll(() => {\n    useContainer(Container);\n  });\n  afterEach(() => {\n    Container.reset();\n  });\n\n  test('Authenticate', async () => {\n    await request(app).get(`${BASE_URL}/current`).expect(Status.UNAUTHORIZED);\n\n    const response = await request(app).post(`${BASE_URL}/`).send({\n      name: 'test',\n    });\n    expect(response.status).toBe(Status.OK);\n    await transformAndValidate(JwtDTO, response.body);\n  });\n});\n"],"version":3}