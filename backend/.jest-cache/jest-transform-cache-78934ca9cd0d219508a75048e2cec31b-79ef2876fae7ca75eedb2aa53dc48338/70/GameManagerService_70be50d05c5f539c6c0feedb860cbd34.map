{"file":"C:\\Github\\Algoo\\backend\\src\\services\\GameManagerService.ts","mappings":";;;;;;;;;;;AAEA,8DAAsE;AACtE,mCAAiC;AACjC,iDAAsE;AAIvD,IAAM,eAAe,GAArB,MAAM,eAAe;IAEzB;IACA;IAFT,YACS,kBAAsC,EACtC,gBAAkC;QADlC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,qBAAgB,GAAhB,gBAAgB,CAAkB;IACxC,CAAC;IAEJ,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAgB;QAC/C,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,oBAAW,CAAC,SAAS,CAAC,CAAC;IAC/D,CAAC;IAED,SAAS,CAAC,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAgB,EAAE,OAAqB;QACvE,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,oBAAW,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACzE,CAAC;IAED,UAAU,CAAC,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,EAAgB,EAAE,OAAsB;QACzE,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,oBAAW,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;IAC1E,CAAC;CACF,CAAA;AAjBoB,eAAe;IADnC,IAAA,gBAAO,GAAE;qCAGqB,iCAAkB;QACpB,+BAAgB;GAHxB,eAAe,CAiBnC;kBAjBoB,eAAe","names":[],"sources":["C:\\Github\\Algoo\\backend\\src\\services\\GameManagerService.ts"],"sourcesContent":["import { SimpleCoordinate } from '@defferrard/algoo-core/src/board';\nimport { CastSpellDTO, MoveEntityDTO } from '@defferrard/algoo-core/src/dto';\nimport { MessageType, User } from '@defferrard/algoo-core/src/socket';\nimport { Service } from 'typedi';\nimport { GameRoomRepository, SocketRepository } from '~/repositories';\nimport PlayerSocket from '~/socket/sockets/PlayerSocket';\n\n@Service()\nexport default class GameRoomService {\n  constructor(\n    public gameRoomRepository: GameRoomRepository,\n    public socketRepository: SocketRepository,\n  ) {}\n\n  nextTurn({ data: { room, player } }: PlayerSocket) {\n    this.socketRepository.broadcast(room, MessageType.NEXT_TURN);\n  }\n\n  castSpell({ data: { room, player } }: PlayerSocket, payload: CastSpellDTO) {\n    this.socketRepository.broadcast(room, MessageType.CAST_SPELL, payload);\n  }\n\n  moveEntity({ data: { room, player } }: PlayerSocket, payload: MoveEntityDTO) {\n    this.socketRepository.broadcast(room, MessageType.MOVE_ENTITY, payload);\n  }\n}\n"],"version":3}